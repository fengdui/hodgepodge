# 幂等
## 新增
* 情况1:例如某个订单只能创建一条唯一的数据 这种情况要细分
  * 情况1.1 系统重试 这种情况下如果存在对应数据可以直接返回
  * 情况1.2 用户重复创建 这种情况需要返回异常给到用户
* 情况2:相同内容的数据可以重复创建 例如流水记录 也要细分系统重试和用户重试
  * 情况2.1 系统重试 这种情况下不允许新增
  * 情况2.2 用户重复创建 这种情况可以新增
## 修改
* 情况1: 数据是唯一的 即有实体的id 可以修改 天然幂等 更新多次结果一样
* 情况2: 累加的情况 如加积分 2次加的都是50分 但有可能是用户点了2次 也有可能系统重试 也要细分系统重试和用户重试
  * 情况2.1 系统重试 这种情况不允许修改
  * 情况2.2 用户重复创建 这种情况可以修改